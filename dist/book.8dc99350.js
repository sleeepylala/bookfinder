function e(e){return e&&e.__esModule?e.default:e}var t=globalThis,n={},o={},l=t.parcelRequire28d3;null==l&&((l=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var l={id:e,exports:{}};return n[e]=l,t.call(l.exports,l,l.exports),l.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequire28d3=l),l.register;var a=l("f1q41"),c=l("fmRoT"),i=l("7gSKI");const r=document.querySelector(".category"),d=document.querySelector(".container-cards"),s=document.querySelector(".btn1"),u=document.querySelector(".btn2"),m=JSON.parse(localStorage.getItem("jsonData")),p=localStorage.getItem("inputSubject");let h=1,v=[];function b(){document.body.scrollIntoView({behavior:"smooth"})}const f=function(e,t,n,o){let l=document.createElement("div");return l.className="card-book",(()=>{let n=document.createElement("div");if(n.className="container-img-book",e){let o=document.createElement("img");o.src=`https://covers.openlibrary.org/b/id/${e}-L.jpg`,o.alt=`Image of the book: ${t}`,n.appendChild(o)}l.appendChild(n)})(),(()=>{let e=document.createElement("div");e.className="container-text-book";let o=document.createElement("h1");o.innerText=t,e.appendChild(o);let a=document.createElement("h2");a.innerText=n,e.appendChild(a),l.appendChild(e)})(),(()=>{let e=document.createElement("button");e.type="button",e.className="btn-description",e.innerText="description",e.onclick=()=>{let e=`https://openlibrary.org${o}.json`;(0,c.default).get(e).then(e=>{let t=e.data,o=t.description||"Description is not available";g(t.title,o,n)}).catch(e=>{console.error(`Description not found: ${e}`)})},l.appendChild(e)})(),l},g=function(e,t,n){document.body.classList.add("modal-open");let o=document.createElement("div");o.className="modal";let l=document.createElement("div");l.className="overlay",document.body.appendChild(l);let a=document.createElement("div");a.className="content-container";let c=document.createElement("h1");c.innerText=e,o.appendChild(c);let i=document.createElement("h2");i.innerText=n,o.appendChild(i);let r=document.createElement("p");r.innerText="object"==typeof t?t.value||"Description is not available":t||"Description is not available",r.className="description",a.appendChild(r);let d=document.createElement("button");d.type="button",d.className="btn-close",d.innerText="Close",a.appendChild(d),o.appendChild(a),d.onclick=()=>{document.body.classList.remove("modal-open"),o.style.display="none",l.remove()},document.body.appendChild(o),setTimeout(()=>{o.classList.add("show")},50),o.style.display="block"};function y(){let t=(h-1)*12,n=e(a).slice(v,t,t+12);b(),d.innerHTML="",n.forEach(e=>{let{cover_id:t,title:n,authors:o,key:l}=e,a=f(t,n,o[0].name,l);d.appendChild(a)})}function E(){let e=Math.ceil(v.length/12),t=Math.max(h-Math.floor(2.5),1),n=Math.min(t+5-1,e);n-t+1<5&&(t=Math.max(n-5+1,1));let o=document.querySelector(".pagination-list");o.innerHTML="";for(let e=t;e<=n;e++){let t=document.createElement("li");t.className="link",t.setAttribute("value",e),t.textContent=e,o.appendChild(t),e===h&&t.classList.add("active")}s.disabled=1===h,u.disabled=h===e}function k(){let t=(h-1)*12,n=e(a).slice(v,t,t+12);b(),d.innerHTML="",n.forEach(e=>{let{cover_id:t,title:n,authors:o,key:l}=e,a=f(t,n,o[0].name,l);d.appendChild(a)})}function L(){console.log("click bottone 1"),h>1&&(h--,k(),E())}function C(){let e=Math.ceil(v.length/12);console.log("click bottone 2"),h<e&&(h++,k(),E())}window.addEventListener("load",function(){s&&s.addEventListener("click",L),u&&u.addEventListener("click",C);let e=document.querySelector(".btn-home");e&&e.addEventListener("click",function(){localStorage.removeItem("jsonData"),localStorage.removeItem("inputSubject"),console.log("Dati rimossi dal Local Storage"),window.history.back()}),(0,i.preventImageDrag)(),function(){if(m&&p){r.innerHTML=`${p} books`,v=m.works;let e=document.querySelector(".link");e&&e.classList.add("active"),y(),E(),b()}}(),document.querySelector(".pagination-list").addEventListener("click",function(e){e.target.classList.contains("link")&&function(e){if(console.log("click page"),!e.target.classList.contains("active")){document.querySelectorAll(".link").forEach(e=>e.classList.remove("active")),e.target.classList.add("active"),h=parseInt(e.target.value);let t=document.querySelector(".link");t&&t.classList.add("active"),y(),E()}}(e)})});
//# sourceMappingURL=book.8dc99350.js.map
